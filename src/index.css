@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  Award-Winning Design System
  Ultra-modern, playful design with smooth microinteractions
  All colors in HSL format for maximum flexibility
*/

@layer base {
  :root {
    /* Light Mode Colors - Indigo Theme (STYLE_COOKBOOK) */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Primary: Indigo (#4f46e5 = 239 84% 67%) */
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 239 84% 60%;
    --primary-glow: 239 84% 75%;

    /* Secondary: Gray */
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    /* Accent: Indigo Light (#eef2ff) */
    --accent: 226 100% 97%;
    --accent-foreground: 239 84% 67%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    /* Success: Green (#10b981) */
    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;

    /* Warning: Amber (#f59e0b) */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    /* Destructive: Red (#ef4444) */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 239 84% 67%;

    --radius: 0.5rem;

    /* Professional Shadows */
    --shadow-sm: 0 1px 3px 0 hsl(222 84% 5% / 0.1);
    --shadow-md: 0 4px 6px -1px hsl(222 84% 5% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(222 84% 5% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(222 84% 5% / 0.1);

    /* Clean Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(239 84% 67%), hsl(239 84% 60%));
    --gradient-success: linear-gradient(135deg, hsl(160 84% 39%), hsl(160 84% 35%));
    --gradient-warning: linear-gradient(135deg, hsl(38 92% 50%), hsl(38 92% 45%));

    /* Chart Colors (STYLE_COOKBOOK 15-color palette) */
    --chart-1: 239 84% 67%;   /* Indigo #4f46e5 */
    --chart-2: 160 84% 39%;   /* Emerald #10b981 */
    --chart-3: 38 92% 50%;    /* Amber #f59e0b */
    --chart-4: 0 84% 60%;     /* Red #ef4444 */
    --chart-5: 263 70% 50%;   /* Violet #8b5cf6 */
    --chart-6: 187 92% 41%;   /* Cyan #06b6d4 */
    --chart-7: 25 95% 53%;    /* Orange #f97316 */
    --chart-8: 82 85% 40%;    /* Lime #84cc16 */
    --chart-9: 330 81% 60%;   /* Pink #ec4899 */
    --chart-10: 168 76% 42%;  /* Teal #14b8a6 */
    --chart-others: 217 19% 64%; /* Gray #9ca3af */

    /* Sidebar - Dark Navy Theme (matches reference) */
    --sidebar-background: 222 47% 11%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 239 84% 67%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 33% 17%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 17%;
    --sidebar-ring: 239 84% 67%;
  }

  /* Dark Mode - Indigo Theme */
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 8%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 8%;
    --popover-foreground: 210 40% 98%;

    /* Primary: Indigo (brighter for dark mode) */
    --primary: 239 84% 70%;
    --primary-foreground: 222.2 84% 4.9%;
    --primary-hover: 239 84% 75%;
    --primary-glow: 239 84% 80%;

    /* Secondary: Dark gray */
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    /* Accent: Indigo darker */
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 239 84% 70%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    /* Success: Green (brighter for dark) */
    --success: 160 84% 45%;
    --success-foreground: 0 0% 100%;

    /* Warning: Amber (brighter for dark) */
    --warning: 38 92% 55%;
    --warning-foreground: 0 0% 100%;

    /* Destructive: Red (brighter for dark) */
    --destructive: 0 84% 65%;
    --destructive-foreground: 0 0% 100%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 239 84% 70%;

    /* Professional Dark Shadows */
    --shadow-sm: 0 1px 3px 0 hsl(0 0% 0% / 0.4);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.4);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.4);
    --shadow-xl: 0 20px 25px -5px hsl(0 0% 0% / 0.4);

    /* Chart Colors (adjusted for dark mode) */
    --chart-1: 239 84% 70%;   /* Indigo */
    --chart-2: 160 84% 45%;   /* Emerald */
    --chart-3: 38 92% 55%;    /* Amber */
    --chart-4: 0 84% 65%;     /* Red */
    --chart-5: 263 70% 55%;   /* Violet */
    --chart-6: 187 92% 48%;   /* Cyan */
    --chart-7: 25 95% 58%;    /* Orange */
    --chart-8: 82 85% 48%;    /* Lime */
    --chart-9: 330 81% 65%;   /* Pink */
    --chart-10: 168 76% 48%;  /* Teal */
    --chart-others: 217 19% 50%; /* Gray */

    /* Sidebar Dark */
    --sidebar-background: 222.2 84% 6%;
    --sidebar-foreground: 210 40% 90%;
    --sidebar-primary: 239 84% 70%;
    --sidebar-primary-foreground: 222.2 84% 4.9%;
    --sidebar-accent: 217.2 32.6% 17.5%;
    --sidebar-accent-foreground: 210 40% 90%;
    --sidebar-border: 217.2 32.6% 20%;
    --sidebar-ring: 239 84% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-weight: 500;
    letter-spacing: -0.02em;
    line-height: 1.4;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.2;
  }
}

/* Custom styles for improved sidebar responsiveness */
@layer components {
  [data-sidebar="sidebar"] {
    @apply transition-all duration-300 ease-in-out;
  }
  
  [data-sidebar="menu-button"] {
    @apply transition-all duration-200 ease-in-out;
  }
  
  /* Ensure proper spacing and sizing for collapsed sidebar */
  .group-data-\[collapsible\=icon\]\:w-\[var\(--sidebar-width-icon\)\] {
    @apply transition-all duration-300 ease-in-out;
  }
  
  /* Improve touch targets for all screen sizes */
  @media (max-width: 768px) {
    [data-sidebar="menu-button"] {
      @apply h-10;
    }
    
    [data-sidebar="menu-sub-button"] {
      @apply h-9;
    }
  }
  
  /* Medium screen specific fixes (tablets) */
  @media (min-width: 768px) and (max-width: 1024px) {
    [data-sidebar="menu-button"] {
      @apply h-9;
    }
    
    .sidebar-footer-content {
      @apply flex flex-col items-center justify-center;
    }
    
    .sidebar-user-info {
      @apply flex flex-col items-center justify-center h-16;
    }
    
    /* Ensure sidebar is visible on medium screens */
    .md\:flex {
      display: flex !important;
    }
    
    /* Fix for overlapping issues on tablets */
    [data-sidebar="sidebar"] {
      min-width: 3rem;
    }
  }
  
  /* Large tablet to small desktop screens */
  @media (min-width: 1024px) and (max-width: 1280px) {
    .sidebar-user-info {
      @apply p-2;
    }
    
    .sidebar-user-info p {
      @apply text-xs;
    }
  }
  
  /* Ensure icons are always visible and don't shrink */
  .sidebar-icon {
    @apply flex-shrink-0;
  }
  
  /* Fix for logout button visibility and functionality */
  .logout-button {
    @apply flex items-center w-full transition-all duration-200 ease-in-out;
  }
  
  /* Ensure proper spacing in collapsed state */
  .sidebar-collapsed .sidebar-menu-button {
    @apply justify-center;
  }
  
  /* Additional fixes for medium screens */
  @media (min-width: 768px) and (max-width: 1200px) {
    [data-sidebar="sidebar"] {
      min-width: 3rem !important;
    }
    
    .group-data-\[collapsible\=icon\]\:w-\[var\(--sidebar-width-icon\)\] {
      width: var(--sidebar-width-icon) !important;
    }
  }
  
  /* Mobile-specific fixes */
  @media (max-width: 767px) {
    .sidebar-user-info {
      @apply h-14 p-2;
    }
    
    .logout-button {
      @apply h-10;
    }
  }
  
  /* Ensure proper z-index for sidebar elements */
  .sidebar-user-info,
  .logout-button {
    z-index: 10;
  }
  
  /* Fix for top navigation view */
  @media (max-width: 768px) {
    .sidebar-user-info {
      min-height: 64px;
    }
  }
  
  /* Ensure proper display of user info in all states */
  .sidebar-user-info > div {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
  }
  
  /* Fix for developer/admin information visibility */
  .sidebar-user-info p {
    line-height: 1.2;
  }
  
  /* Ensure logout icon is always visible */
  .logout-button svg {
    min-width: 20px;
    min-height: 20px;
  }
  
  /* Tablet-specific adjustments for better visibility */
  @media (min-width: 768px) and (max-width: 1024px) {
    .logout-button span {
      font-size: 0.875rem;
    }
    
    .sidebar-user-info {
      min-height: 70px;
    }
  }
  
  /* Ensure sidebar visibility on all screen sizes */
  @media (min-width: 768px) {
    [data-sidebar="sidebar"] {
      display: flex !important;
    }
  }
  
  /* Fix for overlapping issues on medium screens */
  @media (min-width: 768px) and (max-width: 1200px) {
    [data-sidebar="content"] {
      overflow-y: auto;
      max-height: calc(100vh - 180px);
    }
  }
  
  /* Ensure proper spacing for sidebar elements on all screens */
  @media (min-width: 768px) {
    [data-sidebar="footer"] {
      margin-top: auto;
    }
  }
  
  /* Fix for z-index issues on mobile */
  @media (max-width: 767px) {
    [data-sidebar="sidebar"] {
      z-index: 50;
    }
  }
  
  /* Ensure proper icon sizing across all viewports */
  [data-sidebar="menu-button"] svg,
  [data-sidebar="trigger"] svg {
    min-width: 20px;
    min-height: 20px;
  }

  /* Smooth Interactions */
  .hover-lift {
    @apply transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-lg;
  }

  /* Hide scrollbar in sidebar while keeping scroll functionality */
  [data-sidebar="content"] {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  [data-sidebar="content"]::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* Fix for Recharts pie chart focus outline/selection rectangle */
  .recharts-surface,
  .recharts-pie,
  .recharts-pie-sector,
  .recharts-sector {
    outline: none !important;
  }

  .recharts-wrapper {
    outline: none !important;
  }

  .recharts-surface:focus,
  .recharts-pie:focus,
  .recharts-pie-sector:focus,
  .recharts-sector:focus {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Remove selection highlight on pie chart click */
  .recharts-layer.recharts-pie-sector:focus-visible {
    outline: none !important;
  }

  svg.recharts-surface *:focus {
    outline: none !important;
  }
}
